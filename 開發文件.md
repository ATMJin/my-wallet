# 虛擬貨幣冷錢包開發文件

## 核心目標

開發一個基於 HTML 和 JavaScript 的虛擬貨幣冷錢包，類似紙錢包，但具有可互動的功能。通過使用多組個人資料生成地址來實現用戶對私鑰的管理。個人資料使用姓名、出生日期、小時候養的寵物名稱。

## 功能需求

1. **生成地址**

   - 通過用戶輸入的多組個人資料生成唯一地址。需要考慮用戶輸入資料的驗證邏輯，確保輸入足夠多樣性以生成唯一地址，並防止因格式錯誤導致地址生成失敗。
   - 地址生成算法需支持主流虛擬貨幣（如 Bitcoin、Ethereum）。

2. **私鑰與公鑰管理**

   - 生成與導出私鑰、公鑰。

3. **資產查詢**

   - 通過公鑰地址查詢餘額。
   - 支援熱門虛擬貨幣的餘額 API。需確認支持的虛擬貨幣範圍，並確保所選 API 的穩定性和準確性，防止因不支持特定幣種而影響用戶體驗。

4. **接收與發送交易**

   - 支援接收資產。
   - 支援構建與簽署交易，並發送至區塊鏈網絡。應測試交易的構建與簽署流程，確保簽名正確，並避免因交易格式錯誤而被區塊鏈拒絕。

5. **數據安全**
   - 所有敏感數據僅存儲於本地，無伺服器交互。考慮設備遺失或用戶清除本地數據的風險，建議提供數據重建或恢復的選項。

## 技術架構

1. **前端技術**

   - 使用 HTML5、CSS3 與 JavaScript 實現。
   - 提供用戶友好的介面。

2. **地址與密鑰生成**

   - 使用第三方加密庫（如 `elliptic` 或 `bitcoinjs-lib`）。請確保加密庫是最新版本，並定期檢查其安全性公告，以防止使用有漏洞的版本。
   - 支援多幣種地址生成。

3. **API 支援**

   - 使用公共 API 查詢餘額與發送交易（如 Etherscan、Blockchain.info）。公共 API 的數據可能受到限制或不完全準確，建議檢查 API 提供商的服務穩定性和安全性政策。

4. **離線運行**
   - 實現 PWA（進階網頁應用），可離線使用。離線模式雖然安全性高，但請注意用戶可能會意外刪除本地數據的風險，建議提供數據恢復的指南。

## 開發步驟

### 1. 初始化專案

- 創建專案目錄結構：

```
  /crypto-cold-wallet
    ├── index.html
    ├── styles.css
    ├── app.js
    └── libs/
```

- 安裝必要依賴（如加密相關的 JS 庫）。

### 2. 設計用戶界面

- `index.html`:

  - 用戶輸入個人資料生成地址。
  - 顯示地址、私鑰、公鑰與餘額。
  - 提供接收與發送資產的功能按鈕。

- `styles.css`:
  - 設計簡約、安全的用戶界面。

### 3. 實現地址生成與管理

- 在 `app.js` 中：
  - 實現使用多組個人資料生成地址的功能。
  - 使用 SHA256 或其他雜湊算法將資料轉換為密鑰對。
  - 顯示地址、私鑰與公鑰。

### 4. 餘額查詢

- 使用第三方 API（如 Etherscan API）。
- 在 `app.js` 中撰寫查詢功能。

```javascript
async function getBalance(address) {
  // 檢查與 API 通信時是否包含 API 金鑰的暴露風險，建議在可能的情況下進行金鑰加密或設置使用限制。
  const response = await fetch(
    `https://api.etherscan.io/api?module=account&action=balance&address=${address}&tag=latest&apikey=YourApiKeyToken`
  );
  const data = await response.json();
  return data.result;
}
```

### 5. 發送交易

- 使用虛擬貨幣特定的 SDK（如 `web3.js` 或 `ethers.js`）。
- 在 `app.js` 中實現構建與簽署交易。

### 6. 測試與優化

- 測試地址生成的唯一性與可靠性。
- 測試交易流程與餘額查詢。
- 優化 UI/UX。

### 7. 部署至 GitHub

- 使用 GitHub Pages 部署冷錢包應用。

## 參考資料

- Bitcoin 地址生成：https://github.com/bitcoinjs/bitcoinjs-lib
- Ethereum SDK：https://docs.ethers.io/v5/
- Etherscan API：https://etherscan.io/apis
- 密碼學函式庫：https://github.com/indutny/elliptic
